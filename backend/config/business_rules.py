"""
业务规则配置
将补贴规则、商家分类等业务配置从代码中抽离
"""

# ============ 补贴规则配置 ============
SUBSIDY_RULES = {
    "家具": {
        "rate": 0.05,
        "max": 2000,
        "description": "家具类商品补贴5%，最高2000元",
        "categories": ["沙发", "床", "餐桌", "衣柜", "书桌", "椅子"],
    },
    "建材": {
        "rate": 0.03,
        "max": 1500,
        "description": "建材类商品补贴3%，最高1500元",
        "categories": ["瓷砖", "地板", "涂料", "门窗", "水泥", "管材"],
    },
    "家电": {
        "rate": 0.04,
        "max": 1000,
        "description": "家电类商品补贴4%，最高1000元",
        "categories": ["空调", "冰箱", "洗衣机", "热水器", "油烟机", "灶具"],
    },
    "软装": {
        "rate": 0.06,
        "max": 800,
        "description": "软装类商品补贴6%，最高800元",
        "categories": ["窗帘", "灯具", "地毯", "装饰画", "绿植", "摆件"],
    },
    "智能家居": {
        "rate": 0.08,
        "max": 1500,
        "description": "智能家居类商品补贴8%，最高1500元",
        "categories": ["智能门锁", "智能音箱", "智能窗帘", "智能照明", "安防监控"],
    },
}

# 默认补贴规则
DEFAULT_SUBSIDY_RULE = {
    "rate": 0.02,
    "max": 500,
    "description": "其他类商品补贴2%，最高500元",
}

# 补贴政策有效期
SUBSIDY_VALID_UNTIL = "2025-12-31"

# 每月补贴上限
MONTHLY_SUBSIDY_LIMIT = 5000


# ============ 商家分类配置 ============
MERCHANT_CATEGORIES = {
    "全屋定制": {
        "description": "提供整体家居定制服务",
        "keywords": ["定制", "全屋", "橱柜", "衣柜"],
        "avg_price_range": "3万-15万",
    },
    "瓷砖卫浴": {
        "description": "瓷砖、卫浴洁具销售",
        "keywords": ["瓷砖", "马桶", "浴室柜", "花洒"],
        "avg_price_range": "1万-5万",
    },
    "地板门窗": {
        "description": "地板、门窗销售安装",
        "keywords": ["地板", "木门", "窗户", "铝合金"],
        "avg_price_range": "0.5万-3万",
    },
    "家具软装": {
        "description": "成品家具、软装配饰",
        "keywords": ["沙发", "床", "窗帘", "灯具"],
        "avg_price_range": "2万-10万",
    },
    "家电厨电": {
        "description": "家用电器、厨房电器",
        "keywords": ["空调", "冰箱", "油烟机", "热水器"],
        "avg_price_range": "1万-5万",
    },
    "智能家居": {
        "description": "智能家居产品及方案",
        "keywords": ["智能", "物联网", "自动化", "语音控制"],
        "avg_price_range": "0.5万-5万",
    },
}


# ============ 装修风格配置 ============
DECORATION_STYLES = {
    "现代简约": {
        "description": "简洁明快，注重功能性",
        "keywords": ["简约", "现代", "极简", "功能"],
        "color_scheme": ["白色", "灰色", "黑色", "原木色"],
        "suitable_for": ["年轻人", "小户型", "追求简洁"],
        "budget_level": "中等",
    },
    "北欧风格": {
        "description": "清新自然，温馨舒适",
        "keywords": ["北欧", "自然", "温馨", "木质"],
        "color_scheme": ["白色", "浅灰", "原木色", "莫兰迪色"],
        "suitable_for": ["年轻家庭", "喜欢自然"],
        "budget_level": "中等",
    },
    "新中式": {
        "description": "传统与现代结合，文化底蕴",
        "keywords": ["中式", "传统", "文化", "禅意"],
        "color_scheme": ["深木色", "米白", "墨绿", "朱红"],
        "suitable_for": ["中年人", "文化爱好者", "大户型"],
        "budget_level": "中高",
    },
    "轻奢风格": {
        "description": "低调奢华，品质感强",
        "keywords": ["轻奢", "品质", "金属", "大理石"],
        "color_scheme": ["香槟金", "黑色", "白色", "深蓝"],
        "suitable_for": ["追求品质", "预算充足"],
        "budget_level": "较高",
    },
    "日式原木": {
        "description": "自然质朴，禅意空间",
        "keywords": ["日式", "原木", "禅意", "收纳"],
        "color_scheme": ["原木色", "白色", "米色", "浅绿"],
        "suitable_for": ["喜欢简单", "注重收纳"],
        "budget_level": "中等",
    },
}


# ============ 装修流程配置 ============
DECORATION_PROCESS = [
    {
        "stage": "前期准备",
        "duration": "1-2周",
        "tasks": ["确定预算", "选择风格", "找设计师", "量房"],
        "tips": "多看案例，明确自己的需求和预算",
    },
    {
        "stage": "设计阶段",
        "duration": "2-4周",
        "tasks": ["平面方案", "效果图", "施工图", "预算报价"],
        "tips": "仔细审核设计方案，确认每个细节",
    },
    {
        "stage": "拆改阶段",
        "duration": "1-2周",
        "tasks": ["墙体拆除", "新建墙体", "门窗更换"],
        "tips": "承重墙不能拆，需要物业审批",
    },
    {
        "stage": "水电阶段",
        "duration": "1-2周",
        "tasks": ["水电定位", "开槽布线", "打压测试"],
        "tips": "水电是隐蔽工程，一定要拍照留存",
    },
    {
        "stage": "泥木阶段",
        "duration": "3-4周",
        "tasks": ["防水施工", "瓷砖铺贴", "吊顶安装", "木工制作"],
        "tips": "防水要做闭水试验，瓷砖要检查空鼓",
    },
    {
        "stage": "油漆阶段",
        "duration": "2-3周",
        "tasks": ["墙面处理", "刮腻子", "刷漆"],
        "tips": "注意通风，选择环保涂料",
    },
    {
        "stage": "安装阶段",
        "duration": "1-2周",
        "tasks": ["橱柜安装", "门窗安装", "洁具安装", "灯具安装"],
        "tips": "安装顺序很重要，先橱柜后门",
    },
    {
        "stage": "软装入住",
        "duration": "1-2周",
        "tasks": ["家具进场", "软装布置", "开荒保洁", "通风散味"],
        "tips": "建议通风3个月以上再入住",
    },
]


# ============ 商家入驻配置 ============
MERCHANT_ONBOARDING = {
    "requirements": {
        "basic": [
            "营业执照（经营范围包含相关品类）",
            "法人身份证正反面",
            "品牌授权书（如为品牌代理）",
            "实体店铺照片（门头、内景）",
        ],
        "optional": [
            "质量检测报告",
            "环保认证",
            "售后服务承诺书",
        ],
    },
    "fees": {
        "deposit": 5000,
        "deposit_note": "保证金可退，用于保障消费者权益",
        "service_rate": 0.03,
        "service_note": "按成交金额的3%收取平台服务费",
        "promotion_min": 1000,
        "promotion_note": "推广费用按效果付费，最低充值1000元",
    },
    "process": [
        {"step": 1, "name": "提交申请", "duration": "1天", "description": "在线填写入驻申请表"},
        {"step": 2, "name": "资质审核", "duration": "3-5个工作日", "description": "平台审核提交的资质材料"},
        {"step": 3, "name": "签署协议", "duration": "1天", "description": "在线签署入驻合作协议"},
        {"step": 4, "name": "缴纳保证金", "duration": "1天", "description": "缴纳入驻保证金"},
        {"step": 5, "name": "店铺装修", "duration": "1-3天", "description": "上传商品、装修店铺"},
        {"step": 6, "name": "正式上线", "duration": "-", "description": "审核通过后正式开业"},
    ],
}


# ============ 获客话术模板 ============
CUSTOMER_SCRIPTS = {
    "首次接触": {
        "opening": "您好！看到您在关注{category}，我是洞居平台的专业顾问，可以为您提供一些选购建议。",
        "value": "我们平台有丰富的优质商家资源，而且现在还有补贴活动，可以帮您省不少钱。",
        "action": "方便的话，可以告诉我您的具体需求，我来帮您匹配最合适的方案。",
        "tips": ["保持语气亲切自然", "不要过于推销", "关注客户需求"],
    },
    "跟进": {
        "opening": "您好！之前和您聊过{category}的事情，想了解一下您考虑得怎么样了？",
        "value": "最近平台有一些新的优惠活动，我觉得挺适合您的情况。",
        "action": "如果您有任何疑问，随时可以问我，我来帮您解答。",
        "tips": ["不要过于频繁", "提供有价值的信息", "尊重客户节奏"],
    },
    "促单": {
        "opening": "您好！您之前看中的{category}，现在正好有限时优惠活动。",
        "value": "这个活动力度很大，而且名额有限，错过可能要等很久。",
        "action": "如果您决定好了，我可以帮您锁定优惠名额。",
        "tips": ["制造紧迫感但不要过度", "确保信息真实", "给客户决策空间"],
    },
}


# ============ 最佳触达时间 ============
BEST_CONTACT_TIMES = {
    "业主": {
        "best": [
            {"time": "10:00-11:30", "reason": "上午工作间隙，客户相对空闲"},
            {"time": "14:00-15:30", "reason": "午休后精神状态好，决策能力强"},
            {"time": "19:30-21:00", "reason": "晚间休息时间，有时间详细了解"},
        ],
        "avoid": [
            {"time": "12:00-14:00", "reason": "午休时间，容易打扰客户"},
            {"time": "22:00后", "reason": "太晚联系会引起反感"},
            {"time": "周一上午", "reason": "工作开始忙碌，不宜打扰"},
        ],
    },
    "商家": {
        "best": [
            {"time": "09:30-11:00", "reason": "开店后相对空闲"},
            {"time": "14:30-16:00", "reason": "下午客流较少"},
        ],
        "avoid": [
            {"time": "周末全天", "reason": "周末客流量大，商家忙碌"},
            {"time": "月初月末", "reason": "商家忙于盘点和促销"},
        ],
    },
}
